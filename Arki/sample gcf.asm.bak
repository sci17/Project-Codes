.data 
value1: .asciiz "Enter yor first number:"
value2: .asciiz "Enter your second number:"
rslt_gcd: .asciiz "GCD:"
rslt_lcm: .asciiz "LCM:"
newline: .asciiz "\n"

.text
.globl main

main:

li $v0, 4
la $a0, value1
syscall

li $v0, 5
syscall
move $t0, $v0

li $v0, 4
la $a0, newline
syscall

li $v0, 4
la $a0, value2
syscall

li $v0, 5
syscall
move $t1, $v0

li $v0, 4
la $a0, newline
syscall

move $a0, $t0
move $a1, $t1
jal calc_gcd
move $t2, $v0

move $a0, $t0
move $a1, $t1
jal calc_lcm
move $t3, $v0

li $v0, 4
la $a0, rslt_gcd
syscall
move $a0, $t2
li $v0, 1
syscall

li $v0, 4
la $a0, newline
syscall

li $v0, 4
la $a0, rslt_lcm
syscall
move $a0, $t3
li $v0, 1
syscall

li $v0,4
la $a0, newline
syscall

calc_gcd:
move $t4, $a0
move $t5, $a1

gcd_loop:
beq $t5, $zero, exit_gcd
move $t6, $t5
div $t4, $t5
move $t4, $t6
move $t5, $t6
j gcd_loop

exit_gcd:
move $v0, $t5
jr $ra

calc_lcm:
move $t7, $a0
move $t8, $a1
jal calc_gcd
move $t9, $v0

mult $t7, $t8
mflo $t9
div $t9, $t9
move $v0, $t9
jr $ra

li $v0, 10
syscall

